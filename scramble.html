
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quadpad Export</title>

<style>
    @import url(https://rsms.me/inter/inter.css);
@import url(https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap);
/* CSS */
html, body {
    background: black;
    color: white;
    font-family: Inter;
}
button {
    font-family: Inter;
    color: white;
    background-color: #222;
    border: 1px solid #ffffff10;
    padding: 4px;
    border-radius: 5px;
    margin: 0 2px;
}
h1 {
    font-family: JetBrains Mono, monospace;
    letter-spacing: -2px;;
}
</style>
</head>
<body>
<!--- HTML --->
<span>[BETA]</span>
<b>SPMS Cubing Club Scrambler</b>
<h1>Awaiting user input...</h1>
<script src="//cdn.jsdelivr.net/npm/eruda"></script>
<script>eruda.init();</script>

<button onclick="upd(2)">Scrabmle 2x2</button>
<button onclick="upd(3)">Scrabmle 3x3</button>
<button onclick="upd('pyra')">Pyraminx</button>
<button onclick="upd('skewb')">Skewb</button>

<br><br>

<!-- <button onclick="font()">ignore this button it isnt used yet blah blah</button> -->
<script type="text/javascript">
    const threebythree = ["U", "F", "L", "B", "R", "D"];
const twobytwo = ["U", "R", "F"];
const pyra = ["R", "U", "L", "B", "r", "u", "l", "b"];
/*
 * Get moveset for NxN or pyra. Used internally
*/
function getMoves(size) {
    if(size == 2) {
        return twobytwo;
    } else if(size == 'pyra' || size == 'skewb') {
        return pyra;
    } else {
        return threebythree;
    }
}
/*
 * Generate a scramble array of strings (moves). Supports NxN and 'pyra'.
*/
function genScramble(amount, size) {
    var pyraTips = [];
    let shkr = [];
    var lastMove = "";
    for (var x = 0; x < amount; x++) {
        function genMove() {
            var move = getMoves(size)[Math.floor(getMoves(size).length * Math.random())];
            if(move == lastMove) return genMove();
            if(size == "skewb") move = move.toUpperCase();
            if(size == "pyra") {
                if (move == move.toLowerCase()) {
                    if (pyraTips.length > 3) return genMove();
                    var genPyraTip = () => {
                        var tp = ['\'', ''];
                        if(move == pyraTips[pyraTips.length - 1]) return genPyraTip();
                        var mv = (move + tp[Math.floor(Math.random() * tp.length)]);
                        return mv;
                    }
                    pyraTips.push(genPyraTip());
                    return genMove();
                }
            }
            lastMove = move;
            var possibles = ["'", ""];
            if(size != "pyra") {
                possibles.push("2");
            }
            var add = possibles[Math.floor(possibles.length * Math.random())];
            return (`${move}${add}`);
        }
        shkr.push(genMove());
    }
    if(size == "pyra") {
        shkr = shkr.concat(pyraTips);
    }
    return shkr;
}
function scramble(amount, size) {
    return genScramble(amount, size).join(" ");
}
function upd(size) {
    var x = (!isNaN(size) ? scramble(size < 3 ? 10 : 20, size) : scramble(12, size));
    document.querySelector('h1').textContent = x;
}
</script>
    
</body>
</html>
                