
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quadpad Export</title>

<style>
    @import url(https://rsms.me/inter/inter.css);
@import url(https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap);
@import url(https://site-assets.fontawesome.com/releases/v6.6.0/css/all.css);

@import url('https://fonts.googleapis.com/css2?family=Albert+Sans:wght@400;500;600;700&family=Anonymous+Pro:wght@400;700&family=DM+Sans:opsz,wght@9..40,400;9..40,500;9..40,600;9..40,700&family=Fantasque+Sans+Mono:wght@400;700&family=Fira+Code:wght@400;500;600;700&family=IBM+Plex+Mono:wght@400;500;600&family=Inconsolata:wght@400;600;700&family=Lato:wght@400;700;900&family=Lexend:wght@400;500;600;700&family=Manrope:wght@400;500;600;700&family=Montserrat:wght@400;500;600;700&family=Mulish:wght@400;600;700;900&family=Nunito:wght@400;600;700&family=Open+Sans:wght@400;600;700&family=Outfit:wght@400;500;600;700&family=PT+Mono&family=Plus+Jakarta+Sans:wght@400;500;600;700&family=Poppins:wght@400;500;600;700&family=Quicksand:wght@400;500;600;700&family=Raleway:wght@400;500;600;700&family=Recursive:wght@400;500;700&family=Roboto+Mono:wght@400;500;700&family=Rubik:wght@400;500;600;700&family=Source+Code+Pro:wght@400;500;700&family=Source+Sans+Pro:wght@400;600;700&family=Space+Grotesk:wght@400;500;600;700&family=Space+Mono:wght@400;700&family=Ubuntu+Mono:wght@400;700&family=Urbanist:wght@400;500;600;700&family=Work+Sans:wght@400;500;600;700&display=swap');
@import url('https://cdn.jsdelivr.net/npm/@fontsource/victor-mono@4.5.0/index.min.css');

@font-face {
    font-family: "VCROSDM";
    src: url("https://raw.githack.com/GavinGoGaming/cubingclub/main/VCR_OSD_MONO_1.001.ttf");
}
html,
body {
    background: var(--regular-bg);
    color: var(--font-color);
    height: 100vh;
    width: 100vw;
    padding: 0;
    margin: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: var(--font-regular), Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
}

.charge,
.charge>body {
    background: var(--time-charging-bg);
}

.timing,
.timing>body {
    background: var(--time-ticking-bg);
}

.done,
.done>body {
    background: var(--time-done-bg);
}

.edit {
    color: lightblue;
    text-decoration: underline;
    cursor: pointer;
}

.times {
    display: inline-flex;
    flex-direction: column;
    border: 1px solid #ffffff0f;
    border-radius: 5px;
    padding: 4px;
    width: calc(100% - 10px);
}

.row {
    border: 1px solid #ffffff0f;
    padding: 4px;
    display: flex;
    justify-content: space-between;
    gap: 2px;
}

.row button {
    background: #ffffff10;
    border-radius: 3px;
    border: 1px solid #ffffff2a;
    color: var(--font-color);
    transition: background 0.1s ease;
    font-family: Inter;
}

.row .clear i {
    color: rgb(255, 92, 92);
}

.row .add i {
    color: rgb(107, 255, 107);
}

.row .delete i {
    color: rgb(255, 126, 126);
}

.row .theme i {
    color: rgb(82, 200, 255);
}

.row button:disabled {
    border-color: #ffffff0a;
    filter: grayscale(0.9);
}

.row button:not(:disabled):hover {
    background: #ffffff30;
}

.row.keep button {
    width: 100%;
}

.deleting {
    animation: deleting 0.5s ease forwards;
}

@keyframes deleting {
    0% {
        opacity: 1;
    }

    100% {
        opacity: 0;
        display: none;
    }
}

.times span b {
    padding-right: 5px;
}

.row:first-of-type {
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
}

.row:last-of-type {
    border-bottom-left-radius: 6px;
    border-bottom-right-radius: 6px;
}

.settings {
    position: fixed;
    top: 10px;
    left: 10px;
    width: calc(100% - 20px);
    height: calc(100% - 20px);
    background-color: #2222220a;
    backdrop-filter: blur(50px);
    border: 5px solid #ffffff1f;
    box-sizing: border-box;
    display: flex;
    padding: 5px;
}

.left,
.right {
    padding: 2px;
}

.left {
    width: 25%;
    display: flex;
    flex-direction: column;
    user-select: none;
    gap: 2px;
    border-right: 4px solid #ffffff1f;
}

.left .item {
    width: calc(100% - 5px);
    height: 25px;
    display: flex;
    padding: 3px;
    padding-left: 5px;
    align-items: center;
    border: 1px solid #ffffff0a;
    box-sizing: border-box;
    gap: 5px;
    border-radius: 6px;
    ;
}

.left .item[disabled] {
    color: #aeaeae;
    border-color: #ffffff03;
}

.left .item:not([disabled]):hover {
    background: #373737;
}

.left .item.active {
    background: #464646;
}

.right {
    width: 100%;
    padding-left: 8px;
}

.close {
    top: -10px;
    right: -10px;
    width: 25px;
    height: 25px;
    background: #322;
    position: absolute;
    border: 1px solid rgba(240, 128, 128, 0.573);
    color: rgb(240, 128, 128);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.close>i {
    transition: scale 0.1s ease;
}

.close:hover {
    background: #522;
}

.close:hover>i {
    scale: 1.2;
    transform: translateX(0.5px);
}

.settings:not(.active) {
    display: none;
}

.settings-section {
    display: flex;
    flex-direction: column;
    gap: 4px;
    width: 100%;
    height: 100%;
    overflow: scroll;
}

.settings-section:not(.current) {
    display: none;
}
#title {
    margin: 0;
    font-size: 20px;
}
a:link {
    color: rgb(132, 136, 255);
    text-decoration: none;
}
a:link:visited {
    color: rgb(108, 113, 255);
}
a:link:hover {
    color: rgb(80, 86, 255);
}

:focus {
    outline: 2px solid #ffffff30;
    border-radius: 4px;
}

.split {
    width: calc(100% - 20px);
    height: calc(100% - 20px);
    display: flex;
}
.left-p {
    height: 100%;
    width: 100%;
}
.right-p {
    width: 200px;
    height: 100%;
    overflow-y: auto;
    border-left: 2px solid #222222cc;
    padding-left: 10px;
}
.setting-row {
    display: flex;
    align-items: center;
    gap: 2px;
    flex-direction: row; 
}
input {
    background: #333;
    color: var(--font-color);
    border-radius: 4px;
    border: 1px solid #ffffff30;
    font-family: monospace;
}

.scramble {
    width: calc(100% - 10px);
    border-radius: 6px;
    overflow-x: auto;
    height: 40px;
    background: #ffffff0a;
    margin-bottom: 8px;
    display: flex;
    align-items: center;
    gap: 2px;
    justify-content: center;
}

.scramble button {
    width: 25px;
    height: 25px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    padding-top: 2px;
    padding-left: 1px;
    margin: 0;
    border: 1px solid #ffffff63;
    background: #ffffff30;
    color: rgb(103, 255, 227);
    border-radius: 6px;
}
#reload-scramble:hover {
    background: #ffffff40;
}
#current-scramble {
    width: calc(100% - 150px);
    font-size: 14px;
    text-overflow: clip;
    white-space: nowrap;
    text-align: center;
    font-family: var(--font-mono), JetBrains Mono;
    overflow-x: auto;
}
#current-puzzle {
    width: 80px;
    height: 25px;
    border: 1px solid #ffffff63;
    background: #ffffff30;
    font-family: var(--font-mono), JetBrains Mono;
    border-radius: 6px;
    color: var(--font-color);
}
.not-scrambled {
    color: #888;
}
.current-time {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 60%;
}

h2 {
    font-family: var(--font-mono), JetBrains Mono;
}

.inner-pop {
    padding: 10px;
    border-radius: 16px;
    background-color: #222;
    align-items: center;
    display: flex;
    position: relative;
    box-shadow: 0px 0px 20px black;
}
.inner-pop twisty-player {
    border-radius: 10px !important;
    overflow: hidden;
}
.inner-pop .player-toggle {
    position: absolute;
    top: -10px;
    right: -10px;
    border-radius: 50%;
    color: lightcoral;
    background-color: #111;
    border: 1px solid #ffffff30;
    width: 35px;
    height: 35px;
    font-size: 16px;
}
.inner-pop .player-toggle:hover {
    background: #161616;
}

.hidden {
    display: none !important;
}

.popup {
    position: absolute;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    backdrop-filter: blur(40px);
    align-items: center;
    justify-content: center;
    flex-direction: column;
    display: flex;
}
#profile {
    font-family: var(--font-mono);
}
.theme-select {
    display: flex;
    flex-direction: column;
    gap: 2px;
    width: 220px;
    height: 60px;
    padding: 6px 4px;
    border: 2px solid #ffffff20;
    border-radius: 6px;
}
.tiles {
    width: 100%;
    height: 40px;
    display: flex;
    align-items: center;
    flex-direction: row;
    gap: 4px;
    margin: 0 2px;
}
.square {
    height: 35px;
    width: 35px;
    border-radius: 4px;
    border: 2px solid #ffffff2b;
    font-family: Helvetica;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    background: var(--bg);
}
.square:after {
    content: "";
    position: absolute;
    width: 50%;
    right: 0;
    top: 0;
    height: 100%;
    border-top-right-radius: 4px;
    border-bottom-right-radius: 4px;
    background: var(--bg);
    filter: saturate(2);
}
.light-selector .square:after {
    filter: saturate(6);
}

.theme-select {
    cursor: pointer;
}
.split-themes {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: row;
    gap: 4px;
}
.themes, .themes-light {
    display: flex;
    gap: 4px;
    flex-direction: column;
}

#theme-maker select {
    background: #1114;
    color: var(--font-color);
    border: 1px solid #ffffff20;
    font-family: var(--font-regular);
    font-size: 16px;
    padding: 4px 2px;
    border-radius: 4px;
}
#theme-maker select:focus {
    outline: none !important;
    background: #11111180;
}
.apply-canvas button {
    background: #2226;
    border: 2px solid #ffffff30;
    padding: 4px 6px;
    color: var(--font-color);
    border-radius: 6px;
}
</style>
</head>
<body>
<script src="https://cdn.cubing.net/v0/js/cubing/twisty" type="module"></script>
<div class="split">
    <div class="left-p">
        <div class="scramble">
            <div id="current-scramble" class="not-scrambled">Press <i class="fa-solid fa-refresh"></i> to generate</div>
            <button id="reload-scramble"><i class="fa-solid fa-refresh"></i></button>
            <select id="current-puzzle">
                <option value="333" selected>3x3x3</option>
                <option value="222">2x2x2</option>
                <option value="444">4x4x4</option>
                <option value="555">5x5x5</option>
                <option value="666">6x6x6</option>
                <option value="777">7x7x7</option>
                <option value="333bf">3x3x3 Blindfolded</option>
                <option value="333fm">3x3x3 Fewest Moves</option>
                <option value="333oh">3x3x3 One-Handed</option>
                <option value="clock">Clock</option>
                <option value="minx">Megaminx</option>
                <option value="pyram">Pyraminx</option>
                <option value="skewb">Skewb</option>
                <option value="sq1">Square-1</option>
                <option value="444bf">4x4x4 Blindfolded</option>
                <option value="555bf">5x5x5 Blindfolded</option>
                <option value="333mbf">3x3x3 Multi-Blind</option>
                <option value="fto">Face-Turning Octahedron</option>
                <option value="master_tetraminx">Master Tetraminx</option>
                <option value="kilominx">Kilominx</option>
                <option value="redi_cube">Redi Cube</option>
            </select>
            <button class="player-toggle"> <i class="fa-solid fa-eye"></i></button>
        </div>
        <h1 id="title">SPMSCC Timer</h1>
        <i class="a">Hold spacebar</i>
        <br>
        <div class="current-time">
            <h2></h2>
        </div>
    </div>
    <div class="right-p">
        <div class="times">
            <span><b>Avg:</b><span id="avg"></span></span>
            <div class="row keep">
                <button class="add"><i class="fa-solid fa-message-plus"></i></button>
                <button class="clear"><i class="fa-solid fa-trash-xmark"></i></button>
                <button class="theme toggle-settings"><i class="fa-solid fa-gear"></i></button>
            </div>
        </div>
    </div>
</div>

<div class="settings">
    <div class="close toggle-settings"><i class="fa-solid fa-xmark"></i></div>
    <div class="left">
        <b>Settings</b>
        <div class="item active" data-section="data"><i class="fa-solid fa-books"></i>Data</div>
        <div class="item" data-section="theme"><i class="fa-solid fa-palette"></i>Theme</div>
        <div class="item" data-section="theme-maker"><i class="fa-solid fa-paintbrush"></i>Canvas</div>
    </div>
    <div class="right">
        <div class="settings-section" id="theme">
            <b>Theme Settings</b>
            <div class="split-themes">
                <div class="themes"></div>
                <div class="themes-light"></div>
            </div>
        </div>
        <div class="settings-section" id="theme-maker">
            <b>Custom Theme Maker</b>
            <select id="background-reg">
                <option value="#000" disabled selected>Background (Regular)</option>
            </select>
            <select id="background-charge">
                <option value="#100" disabled selected>Background (Charge)</option>
            </select>
            <select id="background-ticking">
                <option value="#010" disabled selected>Background (Ticking)</option>
            </select>
            <select id="background-done">
                <option value="#001" disabled selected>Background (Done)</option>
            </select>
            <select id="font-reg">
                <option value="Inter" disabled selected>Font (Regular)</option>
            </select>
            <select id="font-mono">
                <option value="JetBrains Mono" disabled selected>Font (Mono)</option>
            </select>
            <select id="font-color">
                <option value="#fff" disabled selected>Font (Color)</option>
            </select>

            <div class="split-themes">
            <div class="theme-select canvas-theme" style="background:__BG_REG;color:__FONT_COL;">
                <b class="font-reg_disp" style="font-family:'__FONT';">custom <span class="font-mono_disp" style="font-family:'__FONT_MONO';">style</span></b>
                <div class="tiles">
                    <div class="square bg-charge_disp" style="--bg:__BG_REG"></div>
                    <div class="square bg-tick_disp" style="--bg:__BG_CHARGE"></div>
                    <div class="square bg-done_disp" style="--bg:__BG_TICK"></div>
                </div>
            </div>
            <div class="apply-canvas">
                <button>Apply this Theme</button>
            </div>
            </div>
        </div>
        <div class="settings-section current" id="data">
            <b>Data Settings</b>
            <div class="setting-row">
                <span>Profile:</span>
                <input type="text" id="profile" spellcheck="false" value="default"></input>
            </div>
            <div class="setting-row">
                <span>Keybind [temporary]:</span>
                <i class="edit">Space</i>
            </div>
        </div>
    </div>
</div>

<script type="module">
    import { randomScrambleForEvent } from "//cdn.cubing.net/v0/js/cubing/scramble";
    window.rsfs = randomScrambleForEvent;
</script>


<div class="popup hidden">
    <div class="inner-pop">
    <button class="player-toggle"><i class="fa-solid fa-x"></i></button>
        <twisty-player alg="" background="none" puzzle="3x3x3" />
    </div>
</div>
<script type="text/javascript">
    document.title = "SPMSCC | Timer";
const message = document.querySelector('.a');
const h3 = document.querySelector('h2');
const key = document.querySelector('.edit');
var timing = false;
var over = false;
var selkey = " ";
var listeningforkey = false;
var jwlfk = false;
var timeStart;
var finalToDisplay = "0";
const getColorName = hex => ["red", "orange", "yellow", "green", "blue", "purple", "magenta", "aqua", "lime", "brown", "black", "white"][(function (h) {if(h.startsWith('#fff')) return 11; const r = parseInt(h.slice(1, 3), 16), g = parseInt(h.slice(3, 5), 16), b = parseInt(h.slice(5, 7), 16); return [[255, 0, 0], [255, 165, 0], [255, 255, 0], [0, 128, 0], [0, 0, 255], [128, 0, 128], [255, 0, 255], [0, 255, 255], [0, 255, 0], [165, 42, 42], [0, 0, 0], [255, 255, 255]].map(([cr, cg, cb]) => Math.sqrt((r - cr) ** 2 + (g - cg) ** 2 + (b - cb) ** 2)).reduce((a, v, i, arr) => v < arr[a] ? i : a, 0) })(hex.toLowerCase())];
var sel_profile = window.localStorage.getItem('spms_cc_profile') || "default";
if (!window.localStorage.getItem('spms_cc_profile')) {
    sel_profile = "default";
    window.localStorage.setItem('spms_cc_profile', 'default');
}
const times = document.querySelector('.times');

const settings = document.querySelector('.settings');
const toggles = document.querySelectorAll('.toggle-settings');
toggles.forEach(x => {
    x.addEventListener('click', () => {
        settings.classList.toggle('active');
    })
})
const items = [...document.querySelectorAll('.item')].filter(x => (x.getAttribute('disabled') == null));
items.forEach(menuItem => {
    menuItem.addEventListener('click', () => {
        document.querySelectorAll('.settings-section').forEach(x => { x.classList.remove('current') });
        document.querySelector('.settings-section#' + menuItem.dataset.section).classList.add('current');
        document.querySelectorAll('.item').forEach(x => { x.classList.remove('active') });
        menuItem.classList.add('active');
    });
});

function addTimeItem(time) {
    if (!time) time = '0'; // 0s
    const row = document.createElement('div');
    row.className = 'row';

    const timeDisplay = document.createElement('span');
    timeDisplay.textContent = time + 's';

    const deleteButton = document.createElement('button');
    const icon = document.createElement('i');
    icon.className = "fa-solid fa-trash";
    deleteButton.className = 'delete';
    deleteButton.appendChild(icon);
    deleteButton.onclick = () => {
        row.classList.add('deleting');
        deleteButton.remove();
        setTimeout(() => {
            row.remove();
        }, 600);
        removeTime(time);
    };

    row.appendChild(timeDisplay);
    row.appendChild(deleteButton);
    times.appendChild(row);
}
const clear = document.querySelector('.clear');
const add = document.querySelector('.add');
clear.addEventListener('click', () => {
    if (confirm("Clear all times?")) {
        window.localStorage.setItem('cubetime_'+sel_profile, []);
        document.querySelectorAll('.row:not(.keep)').forEach(r=>r.remove());
        document.querySelector('#avg').textContent = "None";
    }
});
add.addEventListener('click', () => {
    const time = prompt("Input time (ex. 1.20)", "");
    try {
        parseFloat(time);
        addTimeToLS(time);
        addTimeItem(time);
    } catch (ex) {
        alert("Not a time.");
    }
});
function updateAverage(times) {
    if (times.length < 1) {
        document.querySelector('#avg').innerText = 'None'
    }
    let timesAsNumbers = times.map(time => parseFloat(time));
    const average = timesAsNumbers.reduce((a, b) => a + b) / timesAsNumbers.length;
    document.querySelector('#avg').innerText = average.toFixed(3);
}
function removeTime(valueToRemove) {
    if (!localStorage.getItem("cubetime_"+sel_profile)) {
        localStorage.setItem('cubetime_'+sel_profile, []);
    }
    const storedArray = localStorage.getItem("cubetime_"+sel_profile);
    const array = storedArray ? JSON.parse(storedArray) : [];
    const updatedArray = array.filter(item => item !== valueToRemove);
    updateAverage(updatedArray);
    localStorage.setItem('cubetime_'+sel_profile, JSON.stringify(updatedArray));
}
function addTimeToLS(valueToRemove) {
    if (!localStorage.getItem("cubetime_"+sel_profile)) {
        localStorage.setItem('cubetime_'+sel_profile, []);
    }
    const storedArray = localStorage.getItem("cubetime_"+sel_profile);
    const array = storedArray ? JSON.parse(storedArray) : [];
    array.push(valueToRemove);
    localStorage.setItem('cubetime_'+sel_profile, JSON.stringify(array));
}
function saveTime(time) {
    if (!localStorage.getItem("cubetime_"+sel_profile)) {
        localStorage.setItem('cubetime_'+sel_profile, []);
    }
    addTimeToLS(time);
    addTimeItem(time);
    updateAverage(JSON.parse(localStorage.getItem("cubetime_"+sel_profile)));
}
function loadTimes() {
    if (!localStorage.getItem("cubetime_"+sel_profile)) {
        localStorage.setItem('cubetime_'+sel_profile, []);
    }
    const storedArray = localStorage.getItem("cubetime_"+sel_profile);
    const array = storedArray ? JSON.parse(storedArray) : [];
    array.forEach(time => {
        addTimeItem(time);
    });
    updateAverage(array);
}

key.addEventListener('click', () => {
    listeningforkey = true;
    timing = false;
    over = false;
})

function setState(state) {
    document.documentElement.className = state;
}

document.body.addEventListener('keydown', (e) => {
    if (listeningforkey) {
        selkey = e.key;
        key.innerText = e.code;
        listeningforkey = false;
        jwlfk = true;
        timing = false;
        over = false;
        return;
    }
    if (e.key == ' ') {
        e.preventDefault();
    }
    if (e.key == selkey) {
        if (timing) {
            if (over) return;
            over = true;
            setState("done");
            var curTime = Date.now();
            var threetime = `${(curTime - timeStart) / 1000}`;
            var time = `${threetime}` + "s";
            finalToDisplay = time;
            message.innerText = "Final time: " + time;
            saveTime(threetime);
        } else {
            message.innerText = "Charging... (Release to start)";
            setState("charge");
        }
    }
})
document.body.addEventListener('keyup', (e) => {
    if (listeningforkey || jwlfk) { return; }
    if (e.key == selkey) {
        if (!timing) {
            message.innerText = "Started";
            timing = true;
            setState("timing");
            timeStart = Date.now();
        } else {
            timing = false;
            over = false;
        }
    }
})

setInterval(() => {
    if (jwlfk) {
        timing = false;
        over = false;
    }
    jwlfk = false;
    if (timing && !over) {
        h3.innerText = ((Date.now() - timeStart) / 1000);
    } else {
        h3.innerText = "" + finalToDisplay;
    }
}, 100);

document.addEventListener('DOMContentLoaded', loadTimes);
document.addEventListener('DOMContentLoaded', () => {
    var link = document.createElement('link');
    link.href = "https://raw.githubusercontent.com/GavinGoGaming/cubingclub/refs/heads/main/club_logo.png";
    link.rel = "shortcut icon";
    document.head.appendChild(link);
    document.querySelector('#profile').value = sel_profile;
});
var ptmo=null;
document.querySelector('#profile').addEventListener('input', (e)=>{
    sel_profile = e.target.value;
    window.localStorage.setItem('spms_cc_profile', sel_profile);
    if (ptmo) clearTimeout(ptmo);
    ptmo = setTimeout(()=>{loadTimes()},800);
})
document.querySelector('#reload-scramble').addEventListener('click', (e)=>{
    var puzzle = document.querySelector('#current-puzzle').value;
    var visual = document.querySelector('#current-scramble');
    visual.innerHTML = "<i class=\"fa-solid fa-spinner fa-spin-pulse\"></i> Loading..."
    visual.classList.remove('not-scrambled');
    window.rsfs(puzzle).then(s => {
        updPlayer(s);
        visual.textContent = s;
    });
})
var playerMap = {
    "333": "3x3x3",
    "222": "2x2x2",
    "444": "4x4x4",
    "555": "5x5x5",
    "666": "6x6x6",
    "777": "7x7x7",
    "clock": "clock",
    "minx": "megaminx",
    "pyram": "pyraminx",
    "skewb": "skewb",
    "sq1": "square1",
    "fto": "fto",
    "master_tetraminx": "master_tetraminx",
    "kilominx": "kilominx",
    "redi_cube": "redi_cube"
}
var updPlayer = (v) => {
    document.querySelector('twisty-player').puzzle = playerMap[document.querySelector('#current-puzzle').value] || '3x3x3';
    document.querySelector('twisty-player').alg = v;
};
document.querySelectorAll('.player-toggle').forEach(toggle => {
    toggle.addEventListener('click', (e) => {
        document.querySelector('.popup').classList.toggle('hidden');
    })
})

function setColors(prop) {
    document.documentElement.style.setProperty('--regular-bg', prop.regularBackground);
    document.documentElement.style.setProperty('--time-charging-bg', prop.timeChargingBackground);
    document.documentElement.style.setProperty('--time-ticking-bg', prop.timeTickingBackground);
    document.documentElement.style.setProperty('--time-done-bg', prop.timeDoneBackground);
    document.documentElement.style.setProperty('--font-regular', prop.fontRegular);
    document.documentElement.style.setProperty('--font-mono', prop.fontMono);
    document.documentElement.style.setProperty('--font-color', prop.color);
}
const allStyles = {
    'default': {
        regularBackground: '#111',
        timeChargingBackground: '#440000',
        timeTickingBackground: '#072e00',
        timeDoneBackground: '#000b24',
        fontRegular: 'Inter',
        fontMono: 'JetBrains Mono',
        color: 'white'
    }, 'midnight': {
        regularBackground: '#0D1117',
        timeChargingBackground: '#370036',
        timeTickingBackground: '#003A4F',
        timeDoneBackground: '#1F2D3D',
        fontRegular: 'Rubik',
        fontMono: 'Fira Code',
        color: '#E6EDF3'  // Light blue-gray
    },
    'forest': {
        regularBackground: '#1E2A20',
        timeChargingBackground: '#461700',
        timeTickingBackground: '#0F3320',
        timeDoneBackground: '#0F172A',
        fontRegular: 'Source Sans Pro',
        fontMono: 'IBM Plex Mono',
        color: '#D8E9D5'  // Soft mint green
    },
    'sunset': {
        regularBackground: '#2A1E28',
        timeChargingBackground: '#4A1500',
        timeTickingBackground: '#1A3041',
        timeDoneBackground: '#001529',
        fontRegular: 'Nunito',
        fontMono: 'Space Mono',
        color: '#FFD0B5'  // Peachy orange
    },
    'neon': {
        regularBackground: '#0F0F18',
        timeChargingBackground: '#5A004A',
        timeTickingBackground: '#003700',
        timeDoneBackground: '#001666',
        fontRegular: 'Poppins',
        fontMono: 'Roboto Mono',
        color: '#00FF99'  // Bright neon green
    },
    'neon red': {
        regularBackground: '#0F0F18',
        timeChargingBackground: '#5A0000',
        timeTickingBackground: '#003700',
        timeDoneBackground: '#001666',
        fontRegular: 'Poppins',
        fontMono: 'Roboto Mono',
        color: '#FF3366'  // Neon pink-red
    },
    'desert': {
        regularBackground: '#2A2420',
        timeChargingBackground: '#5C1D00',
        timeTickingBackground: '#2E3500',
        timeDoneBackground: '#0D2144',
        fontRegular: 'Work Sans',
        fontMono: 'Inconsolata',
        color: '#F5DEB3'  // Wheat/sand color
    },
    'arctic': {
        regularBackground: '#1A222C',
        timeChargingBackground: '#3D0017',
        timeTickingBackground: '#00292B',
        timeDoneBackground: '#000A38',
        fontRegular: 'Montserrat',
        fontMono: 'Ubuntu Mono',
        color: '#D1E8FF'  // Ice blue
    },
    'volcanic': {
        regularBackground: '#1E1E20',
        timeChargingBackground: '#6B0000',
        timeTickingBackground: '#1F3300',
        timeDoneBackground: '#002952',
        fontRegular: 'Raleway',
        fontMono: 'Fira Code',
        color: '#FF7F50'  // Lava orange
    },
    'oceanic': {
        regularBackground: '#172A3A',
        timeChargingBackground: '#4D0519',
        timeTickingBackground: '#003D25',
        timeDoneBackground: '#051836',
        fontRegular: 'Open Sans',
        fontMono: 'Anonymous Pro',
        color: '#8EEBEC'  // Sea foam
    },
    'aurora': {
        regularBackground: '#121621',
        timeChargingBackground: '#3C0028',
        timeTickingBackground: '#014027',
        timeDoneBackground: '#001138',
        fontRegular: 'Lato',
        fontMono: 'PT Mono',
        color: '#B6FFEA'  // Aurora green
    },
    'twilight': {
        regularBackground: '#191D26',
        timeChargingBackground: '#502032',
        timeTickingBackground: '#0A3C2E',
        timeDoneBackground: '#0A204C',
        fontRegular: 'Mulish',
        fontMono: 'Source Code Pro',
        color: '#CCADFF'  // Lavender purple
    },
    'light-default': {
        regularBackground: '#F8F9FA',
        timeChargingBackground: '#FFE6E6',
        timeTickingBackground: '#E6FFE6',
        timeDoneBackground: '#E6F0FF',
        fontRegular: 'Inter',
        fontMono: 'JetBrains Mono',
        color: '#222222'
    },
    'light-midnight': {
        regularBackground: '#EEF2F7',
        timeChargingBackground: '#F9E6FA',
        timeTickingBackground: '#E6F5FF',
        timeDoneBackground: '#EBF1F8',
        fontRegular: 'Rubik',
        fontMono: 'Fira Code',
        color: '#2C3E50'
    },
    'light-forest': {
        regularBackground: '#F0F5F1',
        timeChargingBackground: '#FFEFE6',
        timeTickingBackground: '#E7F5EE',
        timeDoneBackground: '#EEF2FA',
        fontRegular: 'Source Sans Pro',
        fontMono: 'IBM Plex Mono',
        color: '#2E4132'
    },
    'light-sunset': {
        regularBackground: '#F8F0F6',
        timeChargingBackground: '#FFF0E6',
        timeTickingBackground: '#EBF5FC',
        timeDoneBackground: '#F0F7FF',
        fontRegular: 'Nunito',
        fontMono: 'Space Mono',
        color: '#3A2D39'
    },
    'light-neon': {
        regularBackground: '#F5F5FA',
        timeChargingBackground: '#FFEBFF',
        timeTickingBackground: '#EBFFEB',
        timeDoneBackground: '#EBEFFF',
        fontRegular: 'Poppins',
        fontMono: 'Roboto Mono',
        color: '#2D2D3A'
    },
    'light-neon-red': {
        regularBackground: '#F5F5FA',
        timeChargingBackground: '#FFDDDD',
        timeTickingBackground: '#EBFFEB',
        timeDoneBackground: '#EBEFFF',
        fontRegular: 'Poppins',
        fontMono: 'Roboto Mono',
        color: '#2D2D3A'
    },
    'light-desert': {
        regularBackground: '#F7F4F1',
        timeChargingBackground: '#FFEEE6',
        timeTickingBackground: '#F3F7E6',
        timeDoneBackground: '#ECF2FA',
        fontRegular: 'Work Sans',
        fontMono: 'Inconsolata',
        color: '#3D3631'
    },
    'light-arctic': {
        regularBackground: '#F0F4F8',
        timeChargingBackground: '#FFE6EC',
        timeTickingBackground: '#E6F5F6',
        timeDoneBackground: '#E6EEFA',
        fontRegular: 'Montserrat',
        fontMono: 'Ubuntu Mono',
        color: '#2C3741'
    },
    'light-volcanic': {
        regularBackground: '#F4F4F5',
        timeChargingBackground: '#FFEBEB',
        timeTickingBackground: '#F0FFEB',
        timeDoneBackground: '#EBF2FF',
        fontRegular: 'Raleway',
        fontMono: 'Fira Code',
        color: '#333335'
    },
    'light-oceanic': {
        regularBackground: '#EDF4F8',
        timeChargingBackground: '#FFE9EF',
        timeTickingBackground: '#E8F8F2',
        timeDoneBackground: '#EAEEFB',
        fontRegular: 'Open Sans',
        fontMono: 'Anonymous Pro',
        color: '#2F4858'
    },
    'light-aurora': {
        regularBackground: '#F0F2F8',
        timeChargingBackground: '#FCE6F4',
        timeTickingBackground: '#E6FAF2',
        timeDoneBackground: '#E6EEFA',
        fontRegular: 'Lato',
        fontMono: 'PT Mono',
        color: '#2A2E39'
    },
    'light-twilight': {
        regularBackground: '#F4F5F8',
        timeChargingBackground: '#FAEEF2',
        timeTickingBackground: '#ECF6F4',
        timeDoneBackground: '#ECF0FA',
        fontRegular: 'Mulish',
        fontMono: 'Source Code Pro',
        color: '#2E333C'
    },
    'greg': {
        regularBackground: 'url(https://avatars.worldcubeassociation.org/68mjzzxk46b0w90w15kkoe70yodd)',
        timeChargingBackground: 'url(https://avatars.worldcubeassociation.org/68mjzzxk46b0w90w15kkoe70yodd)',
        timeTickingBackground: 'url(https://avatars.worldcubeassociation.org/68mjzzxk46b0w90w15kkoe70yodd)',
        timeDoneBackground: 'url(https://avatars.worldcubeassociation.org/68mjzzxk46b0w90w15kkoe70yodd)',
        fontRegular: "'Comic Sans MS', 'Chalkboard SE', 'Comic Neue', 'Comic Relief', cursive, sans-serif",
        fontMono: 'Wingdings',
        color: '#fff'
    },
    'greg-run': {
        regularBackground: 'url(https://files.catbox.moe/eak1wz.jpg)',
        timeChargingBackground: 'url(https://files.catbox.moe/1rje5x.jpg)',
        timeTickingBackground: 'url(https://files.catbox.moe/4cidg2.gif)',
        timeDoneBackground: 'url(https://files.catbox.moe/eak1wz.jpg)',
        fontRegular: "'Comic Sans MS', 'Chalkboard SE', 'Comic Neue', 'Comic Relief', cursive, sans-serif",
        fontMono: 'JetBrains Mono',
        color: '#fff'
    },
    'light-mint-breeze': {
        regularBackground: '#E0F5E9',
        timeChargingBackground: '#FFD6D6',
        timeTickingBackground: '#C9E9D9',
        timeDoneBackground: '#D6E8FF',
        fontRegular: 'Quicksand',
        fontMono: 'Fira Code',
        color: '#2D5D46'
    },
    'light-peach-cream': {
        regularBackground: '#FFEFD5',
        timeChargingBackground: '#FFCCD8',
        timeTickingBackground: '#D8F0C8',
        timeDoneBackground: '#CFE2FF',
        fontRegular: 'Manrope',
        fontMono: 'JetBrains Mono',
        color: '#5A3A22'
    },
    'light-lavender-mist': {
        regularBackground: '#E6E6FA',
        timeChargingBackground: '#FFD1D1',
        timeTickingBackground: '#D8F0DB',
        timeDoneBackground: '#C9E0FF',
        fontRegular: 'Urbanist',
        fontMono: 'JetBrains Mono',
        color: '#4F4576'
    },
    'light-sky-azure': {
        regularBackground: '#DEF2FF',
        timeChargingBackground: '#FFC8DC',
        timeTickingBackground: '#C9EDDF',
        timeDoneBackground: '#C7D9FF',
        fontRegular: 'Outfit',
        fontMono: 'JetBrains Mono',
        color: '#19486A'
    },
    'light-rose-gold': {
        regularBackground: '#F7E2E2',
        timeChargingBackground: '#FFB3B3',
        timeTickingBackground: '#D2EADC',
        timeDoneBackground: '#D9E5FF',
        fontRegular: 'DM Sans',
        fontMono: 'Victor Mono',
        color: '#8C484F'
    },
    'light-vanilla-latte': {
        regularBackground: '#F5EAD8',
        timeChargingBackground: '#FFCCD1',
        timeTickingBackground: '#CBEAD6',
        timeDoneBackground: '#D1DDFF',
        fontRegular: 'Lexend',
        fontMono: 'Recursive',
        color: '#5E4D37'
    },
    'light-sage-garden': {
        regularBackground: '#E0EBDE',
        timeChargingBackground: '#F8D4D4',
        timeTickingBackground: '#C2E6D3',
        timeDoneBackground: '#D4E0F9',
        fontRegular: 'Plus Jakarta Sans',
        fontMono: 'JetBrains Mono',
        color: '#445644'
    },
    'light-powder-blue': {
        regularBackground: '#D8E8EF',
        timeChargingBackground: '#FFCCC6',
        timeTickingBackground: '#D3EFDB',
        timeDoneBackground: '#CFD9F2',
        fontRegular: 'Albert Sans',
        fontMono: 'Fira Code',
        color: '#2D5269'
    },
    'light-butter-lemon': {
        regularBackground: '#FFF4C2',
        timeChargingBackground: '#FFD0D0',
        timeTickingBackground: '#CBECCC',
        timeDoneBackground: '#CFE1FF',
        fontRegular: 'Atkinson Hyperlegible',
        fontMono: 'JetBrains Mono',
        color: '#776618'
    },
    'light-coral-reef': {
        regularBackground: '#FFE3D7',
        timeChargingBackground: '#FFB3C0',
        timeTickingBackground: '#C5EFD3',
        timeDoneBackground: '#CFDCFF',
        fontRegular: 'Space Grotesk',
        fontMono: 'JetBrains Mono',
        color: '#994433'
    },
    'nebula': {
        regularBackground: '#171322',
        timeChargingBackground: '#5D0063',
        timeTickingBackground: '#00385A',
        timeDoneBackground: '#1A1A37',
        fontRegular: 'Roboto',
        fontMono: 'JetBrains Mono',
        color: '#AD8CFF'  // Soft purple glow
    },
    'luna': {
        regularBackground: '#221C35',
        timeChargingBackground: '#4A174E',
        timeTickingBackground: '#0D3E56',
        timeDoneBackground: '#152240',
        fontRegular: 'Inter',
        fontMono: 'Fira Code',
        color: '#C8D3F5'  // Soft moonlight blue
    },
    'grape': {
        regularBackground: '#2D1B40',
        timeChargingBackground: '#5F0060',
        timeTickingBackground: '#003A4A',
        timeDoneBackground: '#241B36',
        fontRegular: 'Poppins',
        fontMono: 'Space Mono',
        color: '#E3B2FF'  // Light grape purple
    },
    'drowning': {
        regularBackground: '#191E2A',
        timeChargingBackground: '#0E445A',
        timeTickingBackground: '#005F7A',
        timeDoneBackground: '#0E2C4B',
        fontRegular: 'Montserrat',
        fontMono: 'IBM Plex Mono',
        color: '#81C8E5'  // Underwater blue
    },
    'vscode': {
        regularBackground: '#1E1E1E',
        timeChargingBackground: '#4B1863',
        timeTickingBackground: '#00522C',
        timeDoneBackground: '#0E3A5E',
        fontRegular: 'Roboto',
        fontMono: 'monospace',
        color: '#D4D4D4'  // VS Code default text color
    },
    'metropolis': {
        regularBackground: '#1B1C23',
        timeChargingBackground: '#5E002B',
        timeTickingBackground: '#003350',
        timeDoneBackground: '#1C2333',
        fontRegular: 'Work Sans',
        fontMono: 'IBM Plex Mono',
        color: '#E5E9F0'  // Urban steel gray
    },
    'dark note': {
        regularBackground: '#1F1F1F',
        timeChargingBackground: '#4A1E44',
        timeTickingBackground: '#004142',
        timeDoneBackground: '#1A2131',
        fontRegular: 'Source Sans Pro',
        fontMono: 'Source Code Pro',
        color: '#E0E0E0'  // Notepad text gray
    },
    '80s after dark': {
        regularBackground: '#241B2F',
        timeChargingBackground: '#7A0058',
        timeTickingBackground: '#1B5585',
        timeDoneBackground: '#281747',
        fontRegular: 'VCROSDM',
        fontMono: 'JetBrains Mono',
        color: '#FF61D8'  // Neon pink
    },
    'future funk': {
        regularBackground: '#2D1832',
        timeChargingBackground: '#8A1373',
        timeTickingBackground: '#006980',
        timeDoneBackground: '#382151',
        fontRegular: 'Chakra Petch',
        fontMono: 'DM Mono',
        color: '#F5C2E7'  // Funky pink
    },
    'superuser': {
        regularBackground: '#262A33',
        timeChargingBackground: '#4D1325',
        timeTickingBackground: '#024233',
        timeDoneBackground: '#1A2638',
        fontRegular: 'Ubuntu',
        fontMono: 'Hack',
        color: '#98C379'  // Terminal green
    },
    'discord': {
        regularBackground: '#36393F',
        timeChargingBackground: '#5D3FD3',
        timeTickingBackground: '#2F4858',
        timeDoneBackground: '#202225',
        fontRegular: 'Inter',
        fontMono: 'Fira Code',
        color: '#DCDDDE'  // Discord text color
    },
    'cyberspace': {
        regularBackground: '#181C21',
        timeChargingBackground: '#450CA2',
        timeTickingBackground: '#005270',
        timeDoneBackground: '#101823',
        fontRegular: 'Roboto',
        fontMono: 'JetBrains Mono',
        color: '#00F0FF'  // Cyan neon
    },
    'hammerhead': {
        regularBackground: '#1A2125',
        timeChargingBackground: '#475B70',
        timeTickingBackground: '#004D5A',
        timeDoneBackground: '#131D23',
        fontRegular: 'Inter',
        fontMono: 'JetBrains Mono',
        color: '#8AAFD5'  // Deep sea blue
    },
    'terra': {
        regularBackground: '#1D2021',
        timeChargingBackground: '#45403D',
        timeTickingBackground: '#3A5743',
        timeDoneBackground: '#282828',
        fontRegular: 'Rubik',
        fontMono: 'Fira Code',
        color: '#D4BE98'  // Earthy tan
    },
    'aether': {
        regularBackground: '#101015',
        timeChargingBackground: '#34234C',
        timeTickingBackground: '#00384F',
        timeDoneBackground: '#18181C',
        fontRegular: 'Roboto',
        fontMono: 'Fira Code',
        color: '#C5D2D9'  // Ethereal light blue
    },
    'onedark': {
        regularBackground: '#282C34',
        timeChargingBackground: '#513966',
        timeTickingBackground: '#2B4F60',
        timeDoneBackground: '#21252B',
        fontRegular: 'Inter',
        fontMono: 'JetBrains Mono',
        color: '#ABB2BF'  // Atom One Dark text color
    }
};
document.addEventListener('DOMContentLoaded', () => {
    if (window.localStorage.getItem('style') && JSON.parse(window.localStorage.getItem('style')).regularBackground) {
        setColors(JSON.parse(window.localStorage.getItem('style')));
    } else {
        window.localStorage.setItem('style', JSON.stringify(allStyles['default']));
        setColors(allStyles['default']);
    }
});
function mergeColors(data) {
    const mergedMap = new Map();

    data.forEach(({ col, origin }) => {
        if (mergedMap.has(col)) {
            mergedMap.set(col, { col, origin: mergedMap.get(col).origin + '/' + origin });
        } else {
            mergedMap.set(col, { col, origin });
        }
    });

    return Array.from(mergedMap.values());
}
function extractValids() {
    const monoFonts = new Set();
    const regularFonts = new Set();
    const backgroundColors = new Set();
    const fontColors = new Set();

    for (const styleName in allStyles) {
        const style = allStyles[styleName];

        if (style.fontMono) monoFonts.add(style.fontMono);
        if (style.fontRegular) regularFonts.add(style.fontRegular);
        if (style.color) fontColors.add({ 'col': style.color, 'origin': styleName });

        if (style.regularBackground) backgroundColors.add({ 'col': style.regularBackground, 'origin': styleName });
        if (style.timeChargingBackground) backgroundColors.add({ 'col': style.timeChargingBackground, 'origin': styleName });
        if (style.timeTickingBackground) backgroundColors.add({ 'col': style.timeTickingBackground, 'origin': styleName });
        if (style.timeDoneBackground) backgroundColors.add({ 'col': style.timeDoneBackground, 'origin': styleName });
    }
    return {
        monoFonts: [...monoFonts].sort(),
        regularFonts: [...regularFonts].sort(),
        backgroundColors: mergeColors([...backgroundColors]).sort(),
        fontColors: mergeColors([...fontColors]).sort()
    };
}

Object.keys(allStyles).forEach(styleName => {
    let style = allStyles[styleName];
    var selector = "";
    if(styleName.startsWith('light')) {
        selector = `
            <div class="theme-select light-selector" data-theme="${styleName}" style="background:#ccc;color:${style.color}">
                <b style="font-family:'${style.fontRegular}';">${styleName} <span style="font-family:'${style.fontMono}';">style</span></b>
                <div class="tiles">
                    <div class="square" style="--bg:${style.regularBackground}"></div>
                    <div class="square" style="--bg:${style.timeChargingBackground}"></div>
                    <div class="square" style="--bg:${style.timeTickingBackground}"></div>
                    <div class="square" style="--bg:${style.timeDoneBackground}"></div>
                </div>
            </div>
`;
    } else {
        selector = `
            <div class="theme-select" data-theme="${styleName}" style="background:${style.regularBackground};color:${style.color}">
                <b style="font-family:'${style.fontRegular}';">${styleName} <span style="font-family:'${style.fontMono}';">style</span></b>
                <div class="tiles">
                    <div class="square" style="--bg:${style.timeChargingBackground}"></div>
                    <div class="square" style="--bg:${style.timeTickingBackground}"></div>
                    <div class="square" style="--bg:${style.timeDoneBackground}"></div>
                </div>
            </div>
`;
    }
    document.querySelector('.themes'+(styleName.startsWith('light')?'-light':'')).insertAdjacentHTML('beforeend', selector);
    document.querySelector('.theme-select[data-theme="'+styleName+'"]').addEventListener('click', () => {
        setColors(style);
        window.localStorage.setItem('style', JSON.stringify(style));
    });
})

const valids = extractValids(allStyles);
var inpBGreg = document.querySelector('#background-reg'),
    inpBGchrg = document.querySelector('#background-charge'),
    inpBGtick = document.querySelector('#background-ticking'),
    inpBGdone = document.querySelector('#background-done'),
    inpFreg = document.querySelector('#font-reg'),
    inpFmono = document.querySelector('#font-mono'),
    inpFcol = document.querySelector('#font-color');
var outpCanvas = document.querySelector('.canvas-theme'),
    outpBGdone = document.querySelector('.bg-done_disp'),
    outpBGchrg = document.querySelector('.bg-charge_disp'),
    outpBGtick = document.querySelector('.bg-tick_disp'),
    outpFreg = document.querySelector('.font-reg_disp'),
    outpFmono = document.querySelector('.font-mono_disp');
var canvas = {
    regularBackground: '#000',
    timeChargingBackground: '#100',
    timeTickingBackground: '#010',
    timeDoneBackground: '#001',
    fontRegular: 'Inter',
    fontMono: 'JetBrains Mono',
    color: '#fff'
};
function updateDisplayFromCanvas() {
    outpCanvas.style.background = canvas.regularBackground;
    outpCanvas.style.color = canvas.color;
    outpBGchrg.style.background = canvas.timeChargingBackground;
    outpBGtick.style.background = canvas.timeTickingBackground;
    outpBGdone.style.background = canvas.timeDoneBackground;
    outpFreg.style.fontFamily = canvas.fontRegular;
    outpFmono.style.fontFamily = canvas.fontMono;
}

valids.backgroundColors.forEach((bgc) => {
    var obj = `<option style="background:${bgc.col}" value="${bgc.col}">${getColorName(bgc.col)} ${bgc.col} (from ${bgc.origin})</option>`;
    inpBGreg.insertAdjacentHTML('beforeend', obj);
    inpBGdone.insertAdjacentHTML('beforeend', obj);
    inpBGtick.insertAdjacentHTML('beforeend', obj);
    inpBGchrg.insertAdjacentHTML('beforeend', obj);
})
valids.regularFonts.forEach((bgc) => {
    var obj = `<option value="${bgc}" style="font-family:${bgc}">${bgc}</option>`;
    inpFreg.insertAdjacentHTML('beforeend', obj);
})
valids.monoFonts.forEach((bgc) => {
    var obj = `<option value="${bgc}" style="font-family:${bgc}">${bgc}</option>`;
    inpFmono.insertAdjacentHTML('beforeend', obj);
})
valids.fontColors.forEach((bgc) => {
    var obj = `<option style="color:${bgc.col}" value="${bgc.col}">${getColorName(bgc.col)} ${bgc.col} (from ${bgc.origin})</option>`;
    inpFcol.insertAdjacentHTML('beforeend', obj);
})
inpFcol.addEventListener('change', (e)=>{
    canvas.color = inpFcol.value; updateDisplayFromCanvas();
})
inpFreg.addEventListener('change', (e) => {
    canvas.fontRegular = inpFreg.value; updateDisplayFromCanvas();
})
inpFmono.addEventListener('change', (e) => {
    canvas.fontMono = inpFmono.value; updateDisplayFromCanvas();
})
inpBGreg.addEventListener('change', (e) => {
    canvas.regularBackground = inpBGreg.value; updateDisplayFromCanvas();
})
inpBGchrg.addEventListener('change', (e) => {
    canvas.timeChargingBackground = inpBGchrg.value; updateDisplayFromCanvas();
})
inpBGtick.addEventListener('change', (e) => {
    canvas.timeTickingBackground = inpBGtick.value; updateDisplayFromCanvas();
})
inpBGdone.addEventListener('change', (e) => {
    canvas.timeDoneBackground = inpBGdone.value; updateDisplayFromCanvas();
})
document.querySelector('.apply-canvas button').addEventListener('click', ()=>{
    setColors(canvas);
    window.localStorage.setItem('style', JSON.stringify(canvas));
});
updateDisplayFromCanvas();
document.querySelector('.toggle-settings').click();
document.querySelector('.item[data-section="theme-maker"]').click();
</script>
    
</body>
</html>
                